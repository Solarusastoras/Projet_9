{"ast":null,"code":"import React from\"react\";import{useCallback,useState}from\"react\";import Field,{FIELD_TYPES}from\"../../components/Field\";import Select from\"../../components/Select\";import Button,{BUTTON_TYPES}from\"../../components/Button\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const mockContactApi=()=>new Promise(resolve=>{setTimeout(resolve,500);});const Form=_ref=>{let{onSuccess,onError}=_ref;const[sending,setSending]=useState(false);const sendContact=useCallback(async evt=>{evt.preventDefault();setSending(true);/* ancien code \r\n      // We try to call mockContactApi\r\n  try {\r\n  await mockContactApi();\r\n  setSending(false);\r\n  catch (err) {\r\n  setSending(false);\r\n  onError(err);} */// Nous essayons d'appeler mockContactApi\n// We try to call mockContact\ntry{await mockContactApi();setSending(false);// Appeler onSuccess après la réussite de l'API . ajout onSuccess\n// Call onSuccess after API success. add onSuccess\nonSuccess();}catch(err){setSending(false);// Appeler onError en cas d'erreur\n// Call onError in case of error\nonError(err);}},[onSuccess,onError]);return/*#__PURE__*/_jsx(\"form\",{onSubmit:sendContact,children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col\",children:[/*#__PURE__*/_jsx(Field,{placeholder:\"\",label:\"Nom\"}),/*#__PURE__*/_jsx(Field,{placeholder:\"\",label:\"Pr\\xE9nom\"}),/*#__PURE__*/_jsx(Select,{selection:[\"Personel\",\"Entreprise\"],onChange:()=>null,label:\"Personel / Entreprise\",type:\"large\",titleEmpty:true}),/*#__PURE__*/_jsx(Field,{placeholder:\"\",label:\"Email\"}),/*#__PURE__*/_jsx(Button,{type:BUTTON_TYPES.SUBMIT,disabled:sending,children:sending?\"En cours\":\"Envoyer\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col\",children:/*#__PURE__*/_jsx(Field,{placeholder:\"message\",label:\"Message\",type:FIELD_TYPES.TEXTAREA})})]})});};Form.defaultProps={// Fonction par défaut pour onError\n// Default function for onError\nonError:()=>null,// Fonction par défaut pour onSuccess\n// Default function for onSuccess\nonSuccess:()=>null};export default Form;","map":{"version":3,"names":["React","useCallback","useState","Field","FIELD_TYPES","Select","Button","BUTTON_TYPES","jsx","_jsx","jsxs","_jsxs","mockContactApi","Promise","resolve","setTimeout","Form","_ref","onSuccess","onError","sending","setSending","sendContact","evt","preventDefault","err","onSubmit","children","className","placeholder","label","selection","onChange","type","titleEmpty","SUBMIT","disabled","TEXTAREA","defaultProps"],"sources":["C:/Users/Micyo/Desktop/Projet_9/src/containers/Form/index.js"],"sourcesContent":["import React from \"react\";\r\nimport { useCallback, useState } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport Field, { FIELD_TYPES } from \"../../components/Field\";\r\nimport Select from \"../../components/Select\";\r\nimport Button, { BUTTON_TYPES } from \"../../components/Button\";\r\n\r\nconst mockContactApi = () =>\r\n  new Promise((resolve) => {\r\n    setTimeout(resolve, 500);\r\n  });\r\n\r\nconst Form = ({ onSuccess, onError }) => {\r\n  const [sending, setSending] = useState(false);\r\n  const sendContact = useCallback(\r\n    async (evt) => {\r\n      evt.preventDefault();\r\n      setSending(true);\r\n\r\n      /* ancien code \r\n      // We try to call mockContactApi\r\n  try {\r\n  await mockContactApi();\r\n  setSending(false);\r\n  catch (err) {\r\n  setSending(false);\r\n  onError(err);} */\r\n\r\n      // Nous essayons d'appeler mockContactApi\r\n      // We try to call mockContact\r\n      try {\r\n        await mockContactApi();\r\n        setSending(false);\r\n\r\n        // Appeler onSuccess après la réussite de l'API . ajout onSuccess\r\n        // Call onSuccess after API success. add onSuccess\r\n        onSuccess();\r\n      } catch (err) {\r\n        setSending(false);\r\n        // Appeler onError en cas d'erreur\r\n        // Call onError in case of error\r\n        onError(err);\r\n      }\r\n    },\r\n    [onSuccess, onError]\r\n  );\r\n  return (\r\n    <form onSubmit={sendContact}>\r\n      <div className=\"row\">\r\n        <div className=\"col\">\r\n          <Field placeholder=\"\" label=\"Nom\" />\r\n          <Field placeholder=\"\" label=\"Prénom\" />\r\n          <Select\r\n            selection={[\"Personel\", \"Entreprise\"]}\r\n            onChange={() => null}\r\n            label=\"Personel / Entreprise\"\r\n            type=\"large\"\r\n            titleEmpty\r\n          />\r\n          <Field placeholder=\"\" label=\"Email\" />\r\n          <Button type={BUTTON_TYPES.SUBMIT} disabled={sending}>\r\n            {sending ? \"En cours\" : \"Envoyer\"}\r\n          </Button>\r\n        </div>\r\n        <div className=\"col\">\r\n          <Field\r\n            placeholder=\"message\"\r\n            label=\"Message\"\r\n            type={FIELD_TYPES.TEXTAREA}\r\n          />\r\n        </div>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nForm.propTypes = {\r\n  // Fonction de rappel appelée en cas d'erreur\r\n  // Callback function called in case of error\r\n  onError: PropTypes.func,\r\n  // Fonction de rappel appelée en cas de succès\r\n  // Callback function called in case of success\r\n  onSuccess: PropTypes.func,\r\n};\r\n\r\nForm.defaultProps = {\r\n  // Fonction par défaut pour onError\r\n  // Default function for onError\r\n  onError: () => null,\r\n  // Fonction par défaut pour onSuccess\r\n  // Default function for onSuccess\r\n  onSuccess: () => null,\r\n};\r\n\r\nexport default Form;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,WAAW,CAAEC,QAAQ,KAAQ,OAAO,CAE7C,MAAO,CAAAC,KAAK,EAAIC,WAAW,KAAQ,wBAAwB,CAC3D,MAAO,CAAAC,MAAM,KAAM,yBAAyB,CAC5C,MAAO,CAAAC,MAAM,EAAIC,YAAY,KAAQ,yBAAyB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE/D,KAAM,CAAAC,cAAc,CAAGA,CAAA,GACrB,GAAI,CAAAC,OAAO,CAAEC,OAAO,EAAK,CACvBC,UAAU,CAACD,OAAO,CAAE,GAAG,CAAC,CAC1B,CAAC,CAAC,CAEJ,KAAM,CAAAE,IAAI,CAAGC,IAAA,EAA4B,IAA3B,CAAEC,SAAS,CAAEC,OAAQ,CAAC,CAAAF,IAAA,CAClC,KAAM,CAACG,OAAO,CAAEC,UAAU,CAAC,CAAGnB,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAAAoB,WAAW,CAAGrB,WAAW,CAC7B,KAAO,CAAAsB,GAAG,EAAK,CACbA,GAAG,CAACC,cAAc,CAAC,CAAC,CACpBH,UAAU,CAAC,IAAI,CAAC,CAEhB;AACN;AACA;AACA;AACA;AACA;AACA;AACA,mBAEM;AACA;AACA,GAAI,CACF,KAAM,CAAAT,cAAc,CAAC,CAAC,CACtBS,UAAU,CAAC,KAAK,CAAC,CAEjB;AACA;AACAH,SAAS,CAAC,CAAC,CACb,CAAE,MAAOO,GAAG,CAAE,CACZJ,UAAU,CAAC,KAAK,CAAC,CACjB;AACA;AACAF,OAAO,CAACM,GAAG,CAAC,CACd,CACF,CAAC,CACD,CAACP,SAAS,CAAEC,OAAO,CACrB,CAAC,CACD,mBACEV,IAAA,SAAMiB,QAAQ,CAAEJ,WAAY,CAAAK,QAAA,cAC1BhB,KAAA,QAAKiB,SAAS,CAAC,KAAK,CAAAD,QAAA,eAClBhB,KAAA,QAAKiB,SAAS,CAAC,KAAK,CAAAD,QAAA,eAClBlB,IAAA,CAACN,KAAK,EAAC0B,WAAW,CAAC,EAAE,CAACC,KAAK,CAAC,KAAK,CAAE,CAAC,cACpCrB,IAAA,CAACN,KAAK,EAAC0B,WAAW,CAAC,EAAE,CAACC,KAAK,CAAC,WAAQ,CAAE,CAAC,cACvCrB,IAAA,CAACJ,MAAM,EACL0B,SAAS,CAAE,CAAC,UAAU,CAAE,YAAY,CAAE,CACtCC,QAAQ,CAAEA,CAAA,GAAM,IAAK,CACrBF,KAAK,CAAC,uBAAuB,CAC7BG,IAAI,CAAC,OAAO,CACZC,UAAU,MACX,CAAC,cACFzB,IAAA,CAACN,KAAK,EAAC0B,WAAW,CAAC,EAAE,CAACC,KAAK,CAAC,OAAO,CAAE,CAAC,cACtCrB,IAAA,CAACH,MAAM,EAAC2B,IAAI,CAAE1B,YAAY,CAAC4B,MAAO,CAACC,QAAQ,CAAEhB,OAAQ,CAAAO,QAAA,CAClDP,OAAO,CAAG,UAAU,CAAG,SAAS,CAC3B,CAAC,EACN,CAAC,cACNX,IAAA,QAAKmB,SAAS,CAAC,KAAK,CAAAD,QAAA,cAClBlB,IAAA,CAACN,KAAK,EACJ0B,WAAW,CAAC,SAAS,CACrBC,KAAK,CAAC,SAAS,CACfG,IAAI,CAAE7B,WAAW,CAACiC,QAAS,CAC5B,CAAC,CACC,CAAC,EACH,CAAC,CACF,CAAC,CAEX,CAAC,CAWDrB,IAAI,CAACsB,YAAY,CAAG,CAClB;AACA;AACAnB,OAAO,CAAEA,CAAA,GAAM,IAAI,CACnB;AACA;AACAD,SAAS,CAAEA,CAAA,GAAM,IACnB,CAAC,CAED,cAAe,CAAAF,IAAI","ignoreList":[]},"metadata":{},"sourceType":"module"}