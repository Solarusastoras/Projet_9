{"ast":null,"code":"import React from\"react\";import{useEffect,useState,useCallback,useMemo}from\"react\";import{useData}from\"../../contexts/DataContext\";import{getMonth}from\"../../helpers/Date\";import\"./style.scss\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Slider=()=>{const{data}=useData();const[index,setIndex]=useState(0);const[isPaused,setIsPaused]=useState(false);// Utilisez useMemo pour mémoriser la valeur de byDateDesc\n// use useMemo to memorize the value of byDateDesc\nconst byDateDesc=useMemo(()=>{var _data$focus;if(!(data!==null&&data!==void 0&&(_data$focus=data.focus)!==null&&_data$focus!==void 0&&_data$focus.length)){return[];}return data.focus.sort((evtA,evtB)=>new Date(evtA.date)>new Date(evtB.date)?-1:1);},[data]);console.log(\"=========\");console.log(\"byDateDesc:\",byDateDesc);console.log(\"=========\");// Utilisez useCallback pour mémoriser la fonction nextCard\n// use useCallback to memorize the nextCard function\nconst nextCard=useCallback(()=>{let timer;if(!isPaused){timer=setTimeout(()=>{if(byDateDesc.length>0){const newIndex=index<byDateDesc.length-1?index+1:0;setIndex(newIndex);}},5000);}return()=>clearTimeout(timer);},[index,byDateDesc,isPaused]);// Utilisez useEffect pour exécuter nextCard à chaque changement d'index\n// use useEffect to run nextCard on each index change\nuseEffect(()=>{console.log(\"=========\");console.log(`Postion actuel du radio: ${index}`);console.log(\"=========\");const clearNextCard=nextCard();return()=>clearNextCard();},[index,nextCard]);// Gestionnaire d'événements pour la touche espace\n// Event handler for the space key\nuseEffect(()=>{const handleKeyDown=event=>{if(event.code===\"Space\"){// Empêche le comportement par défaut de la barre d'espace\n// Prevent the default behavior of the space bar\nevent.preventDefault();setIsPaused(prev=>!prev);}};window.addEventListener(\"keydown\",handleKeyDown);return()=>{window.removeEventListener(\"keydown\",handleKeyDown);};},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"SlideCardList\",children:byDateDesc.map((event,idx)=>{const eventKey=event.id||idx;console.log(`Rendering event with key: ${eventKey}`);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:`SlideCard SlideCard--${index===idx?\"display\":\"hide\"}`,children:[/*#__PURE__*/_jsx(\"img\",{src:event.cover,alt:\"forum\"}),/*#__PURE__*/_jsx(\"div\",{className:\"SlideCard__descriptionContainer\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"SlideCard__description\",children:[/*#__PURE__*/_jsx(\"h3\",{children:event.title}),/*#__PURE__*/_jsx(\"p\",{children:event.description}),/*#__PURE__*/_jsx(\"div\",{children:getMonth(new Date(event.date))})]})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"SlideCard__paginationContainer\",children:/*#__PURE__*/_jsx(\"div\",{className:\"SlideCard__pagination\",children:byDateDesc.map((_,radioIdx)=>{const radioKey=`${eventKey}-${radioIdx}`;const isChecked=index===radioIdx;console.log(`Rendering radio with key: ${radioKey}`);return/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:`radio-button-${eventKey}`,checked:isChecked,readOnly:true},radioKey);})})})]},eventKey);})});};export default Slider;","map":{"version":3,"names":["React","useEffect","useState","useCallback","useMemo","useData","getMonth","jsx","_jsx","jsxs","_jsxs","Slider","data","index","setIndex","isPaused","setIsPaused","byDateDesc","_data$focus","focus","length","sort","evtA","evtB","Date","date","console","log","nextCard","timer","setTimeout","newIndex","clearTimeout","clearNextCard","handleKeyDown","event","code","preventDefault","prev","window","addEventListener","removeEventListener","className","children","map","idx","eventKey","id","src","cover","alt","title","description","_","radioIdx","radioKey","isChecked","type","name","checked","readOnly"],"sources":["C:/Users/Micyo/Desktop/Projet_9/src/containers/Slider/index.js"],"sourcesContent":["import React from \"react\";\r\nimport { useEffect, useState, useCallback, useMemo } from \"react\";\r\nimport { useData } from \"../../contexts/DataContext\";\r\nimport { getMonth } from \"../../helpers/Date\";\r\n\r\nimport \"./style.scss\";\r\n\r\nconst Slider = () => {\r\n  const { data } = useData();\r\n  const [index, setIndex] = useState(0);\r\n  const [isPaused, setIsPaused] = useState(false);\r\n\r\n  // Utilisez useMemo pour mémoriser la valeur de byDateDesc\r\n  // use useMemo to memorize the value of byDateDesc\r\n  const byDateDesc = useMemo(() => {\r\n    if (!data?.focus?.length) {\r\n      return [];\r\n    }\r\n    return data.focus.sort((evtA, evtB) =>\r\n      new Date(evtA.date) > new Date(evtB.date) ? -1 : 1\r\n    );\r\n  }, [data]);\r\n\r\n  console.log(\"=========\");\r\n  console.log(\"byDateDesc:\", byDateDesc);\r\n  console.log(\"=========\");\r\n\r\n  // Utilisez useCallback pour mémoriser la fonction nextCard\r\n  // use useCallback to memorize the nextCard function\r\n  const nextCard = useCallback(() => {\r\n    let timer;\r\n    if (!isPaused) {\r\n      timer = setTimeout(() => {\r\n        if (byDateDesc.length > 0) {\r\n          const newIndex = index < byDateDesc.length - 1 ? index + 1 : 0;\r\n          setIndex(newIndex);\r\n        }\r\n      }, 5000);\r\n    }\r\n    return () => clearTimeout(timer);\r\n  }, [index, byDateDesc, isPaused]);\r\n\r\n  // Utilisez useEffect pour exécuter nextCard à chaque changement d'index\r\n  // use useEffect to run nextCard on each index change\r\n  useEffect(() => {\r\n    console.log(\"=========\");\r\n    console.log(`Postion actuel du radio: ${index}`);\r\n    console.log(\"=========\");\r\n    const clearNextCard = nextCard();\r\n    return () => clearNextCard();\r\n  }, [index, nextCard]);\r\n\r\n  // Gestionnaire d'événements pour la touche espace\r\n  // Event handler for the space key\r\n  useEffect(() => {\r\n    const handleKeyDown = (event) => {\r\n      if (event.code === \"Space\") {\r\n        // Empêche le comportement par défaut de la barre d'espace\r\n        // Prevent the default behavior of the space bar\r\n        event.preventDefault();\r\n        setIsPaused((prev) => !prev);\r\n      }\r\n    };\r\n\r\n    window.addEventListener(\"keydown\", handleKeyDown);\r\n\r\n    return () => {\r\n      window.removeEventListener(\"keydown\", handleKeyDown);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"SlideCardList\">\r\n      {byDateDesc.map((event, idx) => {\r\n        const eventKey = event.id || idx;\r\n        console.log(`Rendering event with key: ${eventKey}`);\r\n        return (\r\n          <div key={eventKey}>\r\n            <div\r\n              className={`SlideCard SlideCard--${\r\n                index === idx ? \"display\" : \"hide\"\r\n              }`}\r\n            >\r\n              <img src={event.cover} alt=\"forum\" />\r\n              <div className=\"SlideCard__descriptionContainer\">\r\n                <div className=\"SlideCard__description\">\r\n                  <h3>{event.title}</h3>\r\n                  <p>{event.description}</p>\r\n                  <div>{getMonth(new Date(event.date))}</div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"SlideCard__paginationContainer\">\r\n              <div className=\"SlideCard__pagination\">\r\n                {byDateDesc.map((_, radioIdx) => {\r\n                  const radioKey = `${eventKey}-${radioIdx}`;\r\n                  const isChecked = index === radioIdx;\r\n                  console.log(`Rendering radio with key: ${radioKey}`);\r\n                  return (\r\n                    <input\r\n                      key={radioKey}\r\n                      type=\"radio\"\r\n                      name={`radio-button-${eventKey}`}\r\n                      checked={isChecked}\r\n                      readOnly\r\n                    />\r\n                  );\r\n                })}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Slider;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}